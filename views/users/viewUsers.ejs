<%- include('../partials/header') %>

<main class="content-wrapper">
  <div class="container-fluid mt-5 pt-4">
    <h3 class="mb-4 text-center">ðŸ‘¥ Users List</h3>

    <% if(users.length === 0){ %>
      <div class="alert alert-info text-center">No users found.</div>
    <% } else { %>
      <div class="table-responsive">
        <table class="table table-striped table-hover table-bordered align-middle text-center">
          <thead>
            <tr>
              <th>#</th>
              <th>Username</th>
              <th>Email</th>
              <th>Registered At</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <% users.forEach((user, index) => { %>
              <tr>
                <td><%= index + 1 %></td>
                <td><%= user.username %></td>
                <td><%= user.email %></td>
                <td><%= user.createdAt ? new Date(user.createdAt).toLocaleDateString() : '-' %></td>
                <td>
                  <a href="/user/delete/<%= user._id %>" class="btn btn-sm btn-danger mb-1">Delete</a>
                </td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    <% } %>
  </div>
</main>

<%- include('../partials/footer') %>

<style>
.content-wrapper {
  margin-left: 250px;
  padding: 20px;
}

@media (max-width: 992px) {
  .content-wrapper { margin-left: 0; padding: 10px; }
}

.table th, .table td {
  vertical-align: middle;
  text-align: center;
}

.btn-sm { padding: 0.25rem 0.5rem; font-size: 0.85rem; }

@media (max-width: 768px) {
  .table-responsive { overflow-x: auto; }
}
</style>
